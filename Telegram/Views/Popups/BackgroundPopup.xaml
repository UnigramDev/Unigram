<controls:ContentPopup x:Class="Telegram.Views.Popups.BackgroundPopup"
                       xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                       xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                       xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                       xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                       xmlns:common="using:Telegram.Common"
                       xmlns:controls="using:Telegram.Controls"
                       xmlns:chats="using:Telegram.Controls.Chats"
                       xmlns:messages="using:Telegram.Controls.Messages"
                       mc:Ignorable="d"
                       Background="Black"
                       VerticalContentAlignment="Stretch"
                       Padding="0,24,0,0"
                       Closing="OnClosing">

    <ContentDialog.Resources>
        <ResourceDictionary>
            <ResourceDictionary.ThemeDictionaries>
                <ResourceDictionary x:Key="Default">
                    <AcrylicBrush x:Key="PopupAcrylicBackground"
                                  TintOpacity="0.9"
                                  TintColor="#000000"
                                  FallbackColor="#DD000000" />
                </ResourceDictionary>
                <ResourceDictionary x:Key="Light">
                    <AcrylicBrush x:Key="PopupAcrylicBackground"
                                  TintOpacity="0.9"
                                  TintColor="#FFFFFF"
                                  FallbackColor="#DDFFFFFF" />
                </ResourceDictionary>
            </ResourceDictionary.ThemeDictionaries>

            <Style TargetType="CheckBox">
                <Setter Property="Background"
                        Value="{ThemeResource CheckBoxBackgroundUnchecked}" />
                <Setter Property="Foreground"
                        Value="{ThemeResource CheckBoxForegroundUnchecked}" />
                <Setter Property="BorderBrush"
                        Value="{ThemeResource CheckBoxBorderBrushUnchecked}" />
                <Setter Property="Padding"
                        Value="8,5,0,0" />
                <Setter Property="HorizontalAlignment"
                        Value="Left" />
                <Setter Property="VerticalAlignment"
                        Value="Center" />
                <Setter Property="HorizontalContentAlignment"
                        Value="Left" />
                <Setter Property="VerticalContentAlignment"
                        Value="Top" />
                <Setter Property="FontFamily"
                        Value="{ThemeResource ContentControlThemeFontFamily}" />
                <Setter Property="FontSize"
                        Value="{ThemeResource ControlContentThemeFontSize}" />
                <Setter Property="MinWidth"
                        Value="0" />
                <Setter Property="MinHeight"
                        Value="32" />
                <Setter Property="UseSystemFocusVisuals"
                        Value="True" />
                <Setter Property="FocusVisualMargin"
                        Value="-7,-3,-7,-3" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="CheckBox">
                            <Grid x:Name="RootGrid"
                                  Background="{TemplateBinding Background}"
                                  BorderBrush="{TemplateBinding BorderBrush}"
                                  BorderThickness="{TemplateBinding BorderThickness}">
                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroup x:Name="CombinedStates">
                                        <VisualState x:Name="UncheckedNormal">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundUnchecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundUnchecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushUnchecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeUnchecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillUnchecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundUnchecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="UncheckedPointerOver">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundUncheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundUncheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushUncheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeUncheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillUncheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundUncheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="UncheckedPressed">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundUncheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundUncheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushUncheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeUncheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillUncheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundUncheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="NormalRectangle"
                                                                 Storyboard.TargetProperty="StrokeThickness"
                                                                 To="{ThemeResource CheckBoxCheckedStrokeThickness}"
                                                                 Duration="0" />
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="UncheckedDisabled">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundUncheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundUncheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushUncheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeUncheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillUncheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundUncheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="CheckedNormal">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundChecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundChecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushChecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeChecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillChecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundChecked}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="NormalRectangle"
                                                                 Storyboard.TargetProperty="StrokeThickness"
                                                                 To="{ThemeResource CheckBoxCheckedStrokeThickness}"
                                                                 Duration="0" />
                                                <DoubleAnimation Storyboard.TargetName="CheckGlyph"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 To="1"
                                                                 Duration="0" />
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="CheckedPointerOver">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundCheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundCheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushCheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeCheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillCheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundCheckedPointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="CheckGlyph"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 To="1"
                                                                 Duration="0" />
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="CheckedPressed">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundCheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundCheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushCheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeCheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillCheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundCheckedPressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="NormalRectangle"
                                                                 Storyboard.TargetProperty="StrokeThickness"
                                                                 To="{ThemeResource CheckBoxCheckedStrokeThickness}"
                                                                 Duration="0" />
                                                <DoubleAnimation Storyboard.TargetName="CheckGlyph"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 To="1"
                                                                 Duration="0" />
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="CheckedDisabled">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundCheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundCheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushCheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeCheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillCheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundCheckedDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="CheckGlyph"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 To="1"
                                                                 Duration="0" />
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="IndeterminateNormal">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundIndeterminate}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundIndeterminate}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushIndeterminate}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeIndeterminate}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillIndeterminate}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundIndeterminate}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Glyph">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="&#xE73C;" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="CheckGlyph"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 To="1"
                                                                 Duration="0" />
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="IndeterminatePointerOver">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundIndeterminatePointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundIndeterminatePointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushIndeterminatePointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeIndeterminatePointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillIndeterminatePointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundIndeterminatePointerOver}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Glyph">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="&#xE73C;" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="CheckGlyph"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 To="1"
                                                                 Duration="0" />
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="IndeterminatePressed">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundIndeterminatePressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundIndeterminatePressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushIndeterminatePressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeIndeterminatePressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillIndeterminatePressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundIndeterminatePressed}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Glyph">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="&#xE73C;" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="CheckGlyph"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 To="1"
                                                                 Duration="0" />
                                            </Storyboard>
                                        </VisualState>
                                        <VisualState x:Name="IndeterminateDisabled">
                                            <Storyboard>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ContentPresenter"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxForegroundIndeterminateDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="Background">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBackgroundIndeterminateDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="RootGrid"
                                                                               Storyboard.TargetProperty="BorderBrush">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxBorderBrushIndeterminateDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Stroke">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundStrokeIndeterminateDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NormalRectangle"
                                                                               Storyboard.TargetProperty="Fill">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckBackgroundFillIndeterminateDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Foreground">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="{ThemeResource CheckBoxCheckGlyphForegroundIndeterminateDisabled}" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="CheckGlyph"
                                                                               Storyboard.TargetProperty="Glyph">
                                                    <DiscreteObjectKeyFrame KeyTime="0"
                                                                            Value="&#xE73C;" />
                                                </ObjectAnimationUsingKeyFrames>
                                                <DoubleAnimation Storyboard.TargetName="CheckGlyph"
                                                                 Storyboard.TargetProperty="Opacity"
                                                                 To="1"
                                                                 Duration="0" />
                                            </Storyboard>
                                        </VisualState>
                                    </VisualStateGroup>
                                </VisualStateManager.VisualStateGroups>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="20" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid VerticalAlignment="Top"
                                      Height="32">
                                    <Rectangle x:Name="NormalRectangle"
                                               Fill="{ThemeResource CheckBoxCheckBackgroundFillUnchecked}"
                                               Stroke="{ThemeResource CheckBoxCheckBackgroundStrokeUnchecked}"
                                               StrokeThickness="{ThemeResource CheckBoxBorderThemeThickness}"
                                               RadiusX="10"
                                               RadiusY="10"
                                               UseLayoutRounding="False"
                                               Height="20"
                                               Width="20" />
                                    <FontIcon x:Name="CheckGlyph"
                                              FontFamily="{StaticResource SymbolThemeFontFamily}"
                                              Glyph="&#xE001;"
                                              FontSize="16"
                                              Foreground="{ThemeResource CheckBoxCheckGlyphForegroundUnchecked}"
                                              Opacity="0" />
                                </Grid>
                                <ContentPresenter x:Name="ContentPresenter"
                                                  ContentTemplate="{TemplateBinding ContentTemplate}"
                                                  ContentTransitions="{TemplateBinding ContentTransitions}"
                                                  Content="{TemplateBinding Content}"
                                                  Margin="{TemplateBinding Padding}"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  Grid.Column="1"
                                                  AutomationProperties.AccessibilityView="Raw"
                                                  TextWrapping="Wrap" />
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
        </ResourceDictionary>
    </ContentDialog.Resources>

    <Grid x:Name="LayoutRoot">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <chats:ChatBackgroundPresenter x:Name="Preview"
                                       Tag="{x:Bind ConvertBackground(ViewModel.Item), Mode=OneWay}"
                                       CornerRadius="6"
                                       Margin="0,-24,0,0"
                                       Grid.RowSpan="3" />

        <Grid x:Name="ContentPanel"
              Grid.Row="1">
            <Grid.ChildrenTransitions>
                <TransitionCollection>
                    <RepositionThemeTransition />
                </TransitionCollection>
            </Grid.ChildrenTransitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="0" />
                <RowDefinition />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="0" />
            </Grid.RowDefinitions>

            <Grid Grid.Row="1">
                <StackPanel Padding="0,2"
                            VerticalAlignment="Bottom">
                    <messages:MessageService Margin="0,8,0,4">
                        <TextBlock x:Name="Service1"
                                   Text="{CustomResource MessageScheduleToday}"
                                   Foreground="White"
                                   TextAlignment="Center"
                                   Style="{StaticResource CaptionTextBlockStyle}" />
                    </messages:MessageService>

                    <messages:MessageBubble x:Name="Message1"
                                            HorizontalAlignment="Left" />
                    <messages:MessageBubble x:Name="Message2"
                                            HorizontalAlignment="Right">
                        <FrameworkElement.Resources>
                            <common:ThemeOutgoing />
                        </FrameworkElement.Resources>
                    </messages:MessageBubble>
                    <Grid HorizontalAlignment="Center"
                          Margin="12,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Border x:Name="Pattern"
                                Visibility="Collapsed"
                                Background="{ThemeResource MessageServiceBackgroundBrush}"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Bottom"
                                Padding="6,0,12,0"
                                CornerRadius="16"
                                Margin="4,12,4,8">
                            <CheckBox x:Name="PatternRadio"
                                      Content="{CustomResource BackgroundPattern}"
                                      RequestedTheme="Dark"
                                      Checked="Pattern_Click"
                                      Unchecked="Pattern_Click" />
                        </Border>
                        <Border x:Name="Blur"
                                Visibility="Collapsed"
                                Background="{ThemeResource MessageServiceBackgroundBrush}"
                                VerticalAlignment="Bottom"
                                Padding="6,0,12,0"
                                Margin="4,12,4,8"
                                CornerRadius="16"
                                Grid.Column="1">
                            <CheckBox x:Name="BlurToggle"
                                      IsChecked="{x:Bind ViewModel.IsBlurEnabled, Mode=TwoWay}"
                                      Content="{CustomResource BackgroundBlurred}"
                                      RequestedTheme="Dark" />
                        </Border>
                        <Border Visibility="{x:Bind ConvertColor2Visibility(ViewModel.Color2, ViewModel.Color3), Mode=OneWay}"
                                Background="{ThemeResource MessageServiceBackgroundBrush}"
                                Margin="4,8,4,4"
                                CornerRadius="20"
                                Grid.Column="1">
                            <controls:GlyphButton Click="{x:Bind ViewModel.ChangeRotation}"
                                                  Glyph="&#xE72C;"
                                                  RenderTransformOrigin="0.5,0.5"
                                                  CornerRadius="20"
                                                  Margin="-4"
                                                  RequestedTheme="Dark"
                                                  Grid.Column="1">
                                <controls:GlyphButton.RenderTransform>
                                    <RotateTransform Angle="{x:Bind ViewModel.Rotation, Mode=OneWay}" />
                                </controls:GlyphButton.RenderTransform>
                            </controls:GlyphButton>
                        </Border>
                        <Border Visibility="{x:Bind ConvertColor2Visibility(ViewModel.Color3), Mode=OneWay}"
                                Background="{ThemeResource MessageServiceBackgroundBrush}"
                                Margin="4,8,4,4"
                                CornerRadius="20"
                                Grid.Column="1">
                            <controls:GlyphButton Click="Play_Click"
                                                  Glyph="&#xE768;"
                                                  RenderTransformOrigin="0.5,0.5"
                                                  CornerRadius="20"
                                                  Margin="-4"
                                                  RequestedTheme="Dark"
                                                  Grid.Column="1" />
                        </Border>
                        <Border x:Name="Color"
                                Visibility="Collapsed"
                                Background="{ThemeResource MessageServiceBackgroundBrush}"
                                HorizontalAlignment="Left"
                                VerticalAlignment="Bottom"
                                Padding="6,0,12,0"
                                CornerRadius="16"
                                Margin="4,12,4,8"
                                Grid.Column="2">
                            <CheckBox x:Name="ColorRadio"
                                      Content="{CustomResource BackgroundColor}"
                                      RequestedTheme="Dark"
                                      Checked="Color_Click"
                                      Unchecked="Color_Click" />
                        </Border>
                    </Grid>
                </StackPanel>
            </Grid>

            <Grid x:Name="ColorPanel"
                  Background="{ThemeResource PopupAcrylicBackground}"
                  Margin="0,0,0,-88"
                  Padding="0,0,0,88"
                  CornerRadius="0,0,8,8"
                  Height="308"
                  Grid.Row="6">
                <Grid.RowDefinitions>
                    <RowDefinition Height="48" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <controls:ColorTextBox x:Name="TextColor1"
                                       ColorChanged="TextColor_ColorChanged"
                                       HorizontalAlignment="Stretch"
                                       Margin="12,8,0,8" />

                <RadioButton x:Name="RadioColor1"
                             Style="{StaticResource AccentRadioButtonStyle}"
                             IsChecked="{x:Bind ViewModel.IsColor1Checked, Mode=TwoWay}"
                             Checked="RadioColor_Toggled"
                             Unchecked="RadioColor_Toggled"
                             HorizontalContentAlignment="Stretch"
                             HorizontalAlignment="Stretch"
                             VerticalAlignment="Center"
                             Margin="12,0,0,0"
                             Grid.Column="1">
                    <RadioButton.Background>
                        <SolidColorBrush Color="{x:Bind ViewModel.Color1, Mode=OneWay}" />
                    </RadioButton.Background>
                </RadioButton>

                <RadioButton x:Name="RadioColor2"
                             Style="{StaticResource AccentRadioButtonStyle}"
                             IsChecked="{x:Bind ViewModel.IsColor2Checked, Mode=TwoWay}"
                             Visibility="{x:Bind ConvertColor2Visibility(ViewModel.Color2), Mode=OneWay}"
                             Checked="RadioColor_Toggled"
                             Unchecked="RadioColor_Toggled"
                             HorizontalContentAlignment="Stretch"
                             HorizontalAlignment="Stretch"
                             VerticalAlignment="Center"
                             Margin="12,0,0,0"
                             Grid.Column="2">
                    <RadioButton.Background>
                        <SolidColorBrush Color="{x:Bind ViewModel.Color2, Mode=OneWay}" />
                    </RadioButton.Background>
                </RadioButton>

                <RadioButton x:Name="RadioColor3"
                             Style="{StaticResource AccentRadioButtonStyle}"
                             IsChecked="{x:Bind ViewModel.IsColor3Checked, Mode=TwoWay}"
                             Visibility="{x:Bind ConvertColor2Visibility(ViewModel.Color3), Mode=OneWay}"
                             Checked="RadioColor_Toggled"
                             Unchecked="RadioColor_Toggled"
                             HorizontalContentAlignment="Stretch"
                             HorizontalAlignment="Stretch"
                             VerticalAlignment="Center"
                             Margin="12,0,0,0"
                             Grid.Column="3">
                    <RadioButton.Background>
                        <SolidColorBrush Color="{x:Bind ViewModel.Color3, Mode=OneWay}" />
                    </RadioButton.Background>
                </RadioButton>

                <RadioButton x:Name="RadioColor4"
                             Style="{StaticResource AccentRadioButtonStyle}"
                             IsChecked="{x:Bind ViewModel.IsColor4Checked, Mode=TwoWay}"
                             Visibility="{x:Bind ConvertColor2Visibility(ViewModel.Color4), Mode=OneWay}"
                             Checked="RadioColor_Toggled"
                             Unchecked="RadioColor_Toggled"
                             HorizontalContentAlignment="Stretch"
                             HorizontalAlignment="Stretch"
                             VerticalAlignment="Center"
                             Margin="12,0,0,0"
                             Grid.Column="4">
                    <RadioButton.Background>
                        <SolidColorBrush Color="{x:Bind ViewModel.Color4, Mode=OneWay}" />
                    </RadioButton.Background>
                </RadioButton>

                <controls:GlyphButton Click="RemoveColor_Click"
                                      Glyph="&#xE711;"
                                      Visibility="{x:Bind ConvertColor2Visibility(ViewModel.Color2, ViewModel.Color3, ViewModel.Color4), Mode=OneWay}"
                                      Margin="0,0,-18,0"
                                      Grid.Column="4" />

                <controls:AnimatedGlyphButton x:Name="AddRemoveColor"
                                              Click="AddRemoveColor_Click"
                                              Glyph="{x:Bind ConvertColor2Glyph(ViewModel.Color4), Mode=OneWay}"
                                              Margin="8,0,0,0"
                                              Grid.Column="5" />

                <controls:ColorPicker x:Name="PickerColor"
                                      ColorChanged="PickerColor_ColorChanged"
                                      HorizontalAlignment="Stretch"
                                      Grid.Row="1"
                                      Grid.ColumnSpan="6" />
            </Grid>

            <Grid x:Name="PatternPanel"
                  Background="{ThemeResource PopupAcrylicBackground}"
                  Margin="0,0,0,-88"
                  Padding="0,0,0,88"
                  CornerRadius="0,0,8,8"
                  Height="308"
                  Grid.Row="6">
                <Grid.RowDefinitions>
                    <RowDefinition Height="48" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <TextBlock Text="{CustomResource BackgroundChoosePattern}"
                           Style="{StaticResource BaseTextBlockStyle}"
                           VerticalAlignment="Center"
                           Margin="12,0" />

                <GridView x:Name="PatternList"
                          ItemsSource="{x:Bind ViewModel.Patterns}"
                          SelectedItem="{x:Bind ViewModel.SelectedPattern, Mode=TwoWay}"
                          ScrollViewer.HorizontalScrollBarVisibility="Auto"
                          ScrollViewer.HorizontalScrollMode="Auto"
                          ScrollViewer.VerticalScrollBarVisibility="Disabled"
                          ScrollViewer.VerticalScrollMode="Disabled"
                          ContainerContentChanging="OnContainerContentChanging"
                          Grid.Row="1">
                    <GridView.ItemTemplate>
                        <DataTemplate>
                            <chats:ChatBackgroundPresenter Width="72"
                                                           Height="72" />
                        </DataTemplate>
                    </GridView.ItemTemplate>
                    <GridView.ItemsPanel>
                        <ItemsPanelTemplate>
                            <ItemsStackPanel Orientation="Horizontal"
                                             Margin="12,0" />
                        </ItemsPanelTemplate>
                    </GridView.ItemsPanel>
                </GridView>

                <Slider Header="{CustomResource BackgroundIntensity}"
                        Value="{x:Bind ViewModel.Intensity, Mode=TwoWay}"
                        Minimum="{x:Bind ConvertMinimumIntensity(ActualTheme), Mode=OneWay}"
                        Maximum="100"
                        TickFrequency="100"
                        TickPlacement="Outside"
                        Margin="12,12,12,0"
                        Grid.Row="2" />
            </Grid>

            <RadioButton x:Name="RadioPlaceholder"
                         GroupName="Background"
                         Visibility="Collapsed"
                         Grid.Row="3" />

            <messages:MessageService x:Name="PrimaryButton"
                                     Click="Primary_Click"
                                     Foreground="#FFFFFF"
                                     Padding="{ThemeResource ButtonPadding}"
                                     BorderBrush="{ThemeResource ButtonBorderBrush}"
                                     BorderThickness="{ThemeResource ButtonBorderThemeThickness}"
                                     CornerRadius="{ThemeResource ControlCornerRadius}"
                                     HorizontalAlignment="Stretch"
                                     HorizontalContentAlignment="Center"
                                     Height="32"
                                     Margin="24,8,24,0"
                                     Grid.Row="4" />

            <messages:MessageService x:Name="SecondaryButton"
                                     Click="Secondary_Click"
                                     Foreground="#FFFFFF"
                                     FontFamily="{ThemeResource EmojiThemeFontFamilyWithSymbols}"
                                     Padding="{ThemeResource ButtonPadding}"
                                     BorderBrush="{ThemeResource ButtonBorderBrush}"
                                     BorderThickness="{ThemeResource ButtonBorderThemeThickness}"
                                     CornerRadius="{ThemeResource ControlCornerRadius}"
                                     HorizontalAlignment="Stretch"
                                     HorizontalContentAlignment="Center"
                                     Height="32"
                                     Margin="24,8,24,24"
                                     Grid.Row="5" />

        </Grid>

        <messages:MessageService Content="{CustomResource Cancel}"
                                 Click="Cancel_Click"
                                 Foreground="#FFFFFF"
                                 FontSize="12"
                                 HorizontalAlignment="Right"
                                 HorizontalContentAlignment="Center"
                                 VerticalAlignment="Top"
                                 Margin="24,-12,16,0"
                                 Grid.Row="1" />
    </Grid>
</controls:ContentPopup>
